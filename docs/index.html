<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Cypress CRUD Documentation</title>
	<link rel="stylesheet" href="./css/styles.css">
	<script src="./sidebar.js"></script>
</head>

<body>
	<div id="sidebar-container"></div>

	<div class="content">
		<section id="video-introduction">
			<div class="title-container">
				<div class="title">
					<span style="--i: 0">C</span>
					<span style="--i: 1">Y</span>
					<span style="--i: 2">P</span>
					<span style="--i: 3">R</span>
					<span style="--i: 4">E</span>
					<span style="--i: 5">S</span>
					<span style="--i: 6">S</span>
					<span style="--i: 7">-</span>
					<span style="--i: 8">C</span>
					<span style="--i: 9">R</span>
					<span style="--i: 10">U</span>
					<span style="--i: 11">D</span>
				</div>

				<div class="version">Versão 4.2.2</div>
			</div>
			<div class="video-container">
				<div class="video-card">
					<video controls>
						<source src="./img/apresentation.mp4" type="video/mp4">
					</video>

				</div>

			</div>
			<div class="video-container">
				<div class="video-card">
					<video controls>
						<source src="./img/apresentation1.mp4" type="video/mp4">
					</video>

				</div>

			</div>
			<div class="video-container">
				<div class="video-card">
					<video controls>
						<source src="./img/apresentation2.mp4" type="video/mp4">
					</video>

				</div>

			</div>

			<div class="video-container">
				<div class="video-card">
					<video controls>
						<source src="./img/apresentation3.mp4" type="video/mp4">
					</video>

				</div>

			</div>

		</section>
	</div>
	<script>
		document.addEventListener('DOMContentLoaded', () => {
			const sidebarContainer = document.getElementById('sidebar-container');

			// Verifica se o sidebar-container já tem o conteúdo carregado
			if (sidebarContainer && sidebarContainer.innerHTML.trim() !== '') {
				initializeSidebar();
			} else {
				// Observador de mutação para detectar mudanças no sidebar-container
				const observer = new MutationObserver((mutationsList, observer) => {
					for (let mutation of mutationsList) {
						if (mutation.type === 'childList' && sidebarContainer.innerHTML.trim() !== '') {
							initializeSidebar();
							observer.disconnect(); // Para de observar após a inicialização
							break;
						}
					}
				});

				observer.observe(sidebarContainer, { childList: true });
			}

			function initializeSidebar() {
				const sidebar = document.querySelector('.sidebar');
				const content = document.querySelector('.content');

				if (sidebar && content) {
					const toggleButton = document.createElement('button');
					toggleButton.classList.add('menu-toggle');
					toggleButton.textContent = '☰'; // Ícone de hambúrguer
					document.body.appendChild(toggleButton);

					toggleButton.addEventListener('click', () => {
						sidebar.classList.toggle('open');
						content.classList.toggle('shifted'); // Ajusta o conteúdo quando o sidebar está aberto
					});
				} else {
					console.error('Elementos necessários não encontrados: .sidebar ou .content');
				}
			}
		});

	</script>


</body>

</html>